<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vivero - Control Web (ESP32)</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="app">
    <header>
      <h1>Vivero ‚Äî Control</h1>
      <p class="subtitle">Conexi√≥n v√≠a WebSocket con ESP32</p>
      <button id="themeToggle" class="theme-btn">üåô Modo Oscuro</button>

    </header>

    <section class="controls">

      <!-- Luz -->
      <div class="control-card">
        <button id="btn-light" class="icon-btn light" aria-pressed="false" title="Encender / Apagar luz">
          <!-- foco SVG -->
          <svg class="icon bulb" viewBox="0 0 64 64" width="64" height="64" aria-hidden="true">
            <g class="bulb-glow">
              <circle cx="32" cy="22" r="12" class="bulb-fill"/>
            </g>
            <path class="bulb-base" d="M26 38h12v6a2 2 0 0 1-2 2H28a2 2 0 0 1-2-2v-6z"/>
            <rect x="28" y="46" width="8" height="6" rx="1"/>
          </svg>
        </button>
        <div class="label">Luz</div>
      </div>

      <!-- Regar -->
      <div class="control-card">
        <button id="btn-water" class="icon-btn water" title="Regar">
          <!-- regadera SVG -->
          <svg class="icon watering-can" viewBox="0 0 64 64" width="64" height="64" aria-hidden="true">
            <g class="can-body">
              <path d="M12 36h28v10H12z"/>
              <path d="M40 28c6-6 14-8 20-4v4c-6-2-12 0-20 6z"/>
              <path d="M44 46c2 0 4 2 4 4s-2 4-4 4H16"/>
            </g>
            <!-- gotas (se animan cuando 'watering' class est√° presente) -->
            <g class="drops" transform="translate(6, -4)">
              <circle class="drop d1" cx="36" cy="34" r="1.8"/>
              <circle class="drop d2" cx="38" cy="37" r="1.5"/>
              <circle class="drop d3" cx="40" cy="40" r="1.2"/>
            </g>
          </svg>
        </button>
        <div class="label">Regar</div>
      </div>

      <!-- Ventilador -->
      <div class="control-card">
        <button id="btn-fan" class="icon-btn fan" aria-pressed="false" title="Ventilador">
          <!-- ventilador SVG -->
          <svg class="icon fan-svg" viewBox="0 0 64 64" width="64" height="64" aria-hidden="true">
            <g class="fan-blades">
              <path class="blade b1" d="M32 32 L48 22 A14 14 0 0 1 50 40 Z"/>
              <path class="blade b2" d="M32 32 L22 48 A14 14 0 0 1 12 38 Z"/>
              <circle cx="32" cy="32" r="4" class="fan-center"/>
            </g>
          </svg>
        </button>
        <div class="label">Ventilador</div>
      </div>

    </section>

    <section class="indicators">
      <div class="indicator">
        <div class="thermo" id="thermo" title="Presiona para pedir temperatura">
          <!-- term√≥metro simple -->
          <svg viewBox="0 0 48 120" class="thermo-svg" width="48" height="120" aria-hidden="true">
            <rect x="18" y="8" width="12" height="72" rx="6" class="thermo-tube"/>
            <circle cx="24" cy="96" r="18" class="thermo-bulb"/>
            <rect x="20" y="20" width="8" height="8" rx="2" class="thermo-merc"/>
          </svg>
        </div>
        <div class="ind-label">Temperatura <span id="temp-value">-- ¬∞C</span></div>
      </div>

      <div class="indicator">
        <div class="gauge">
          <div class="gauge-label">Humedad</div>
          <div class="gauge-value"><span id="hum-value">--</span>%</div>
        </div>
      </div>

      <div class="indicator">
        <div class="light-meter">
          <div class="light-icon">‚òÄÔ∏è</div>
          <div class="light-value"><span id="lux-value">--</span></div>
        </div>
        <div class="ind-label">Nivel de luz (LUX)</div>
      </div>
    </section>

    <section class="log">
      <h2>Registro / Conexi√≥n</h2>
      <div id="status" class="status">Conectando...</div>
      <pre id="log" class="logbox" readonly></pre>
    </section>

    <footer>
      <small>Interfaz WebSocket ‚Äî ESP32 - Adro Ornelas</small>
    </footer>
  </main>

  <script src="app.js"></script>
</body>
</html>
